{"ast":null,"code":"var _jsxFileName = \"D:\\\\Docs\\\\Programing Projects\\\\snowline-route-manager\\\\client\\\\src\\\\components\\\\RouteSelector.js\";\nimport React, { Component } from \"react\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport Button from \"react-bootstrap/Button\";\nimport Can from \"../components/Can\";\nimport { AuthConsumer } from \"../authContext\";\nimport { connect } from \"react-redux\";\nimport { setActiveRoute, requestRoutes } from \"../actions\";\n\nconst mapStateToProps = state => {\n  return {\n    activeRoute: state.setActiveRoute.activeRoute,\n    routes: state.requestRoutes.routes,\n    isPending: state.requestRoutes.isPending,\n    error: StaticRange.requestRoutes.error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onRouteSelect: event => dispatch(setActiveRoute(event.target.value)),\n    onRequestRoutes: () => dispatch(requestRoutes())\n  };\n};\n\nconst editStyle = {\n  float: \"right\"\n}; //in the future this would pull from the routes tables\n\nconst routes = [\"marybelle\", \"clementine\", \"bessy\"];\n\nconst renderRoute = routeName => {\n  return React.createElement(AuthConsumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, ({\n    authenticated\n  }) => authenticated ? React.createElement(AuthConsumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, ({\n    user\n  }) => React.createElement(Can, {\n    role: user.role,\n    perform: \"admin:visit\",\n    yes: () => React.createElement(Dropdown.Item, {\n      eventKey: routeName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, routeName, React.createElement(Button, {\n      size: \"sm\",\n      variant: \"secondary\",\n      style: editStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Edit\")),\n    no: () => React.createElement(Dropdown.Item, {\n      eventKey: routeName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, routeName),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }));\n};\n\nclass RouteSelector extends Component {\n  componentDidMount() {\n    this.props.onRequestRoutes();\n  }\n\n  render() {\n    const _this$props = this.props,\n          routes = _this$props.routes,\n          isPending = _this$props.isPending,\n          activeRoute = _this$props.activeRoute,\n          error = _this$props.error;\n    return React.createElement(DropdownButton, {\n      title: \"Select Route\",\n      onSelect: function (evt) {\n        console.log(evt);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Dropdown.Item, {\n      href: \"#/action-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Make New Route\"), routes.map(route => renderRoute(route)));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RouteSelector);","map":{"version":3,"sources":["D:\\Docs\\Programing Projects\\snowline-route-manager\\client\\src\\components\\RouteSelector.js"],"names":["React","Component","DropdownButton","Dropdown","Button","Can","AuthConsumer","connect","setActiveRoute","requestRoutes","mapStateToProps","state","activeRoute","routes","isPending","error","StaticRange","mapDispatchToProps","dispatch","onRouteSelect","event","target","value","onRequestRoutes","editStyle","float","renderRoute","routeName","authenticated","user","role","RouteSelector","componentDidMount","props","render","evt","console","log","map","route"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport DropdownButton from \"react-bootstrap/DropdownButton\"\r\nimport Dropdown from \"react-bootstrap/Dropdown\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Can from \"../components/Can\"\r\nimport { AuthConsumer } from \"../authContext\"\r\nimport { connect } from \"react-redux\"\r\nimport { setActiveRoute, requestRoutes } from \"../actions\" \r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        activeRoute: state.setActiveRoute.activeRoute,\r\n        routes: state.requestRoutes.routes,\r\n        isPending: state.requestRoutes.isPending,\r\n        error: StaticRange.requestRoutes.error\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onRouteSelect: (event) => dispatch(setActiveRoute(event.target.value)),\r\n        onRequestRoutes: () => dispatch(requestRoutes()) \r\n    }\r\n}\r\n\r\nconst editStyle = {\r\n    float: \"right\"\r\n}\r\n\r\n//in the future this would pull from the routes tables\r\nconst routes = [\r\n    \"marybelle\",\r\n    \"clementine\",\r\n    \"bessy\"\r\n]\r\n\r\n\r\nconst renderRoute = (routeName) => {\r\n    \r\n    return (\r\n        <AuthConsumer>\r\n            {({ authenticated }) =>\r\n            authenticated ? (\r\n                <AuthConsumer>\r\n                {({ user }) => (\r\n                    <Can\r\n                        role={user.role}\r\n                        perform=\"admin:visit\"\r\n                        yes={() => (\r\n                            <Dropdown.Item eventKey={routeName}>\r\n                                {routeName}\r\n                                <Button size=\"sm\" variant=\"secondary\" style={editStyle}>Edit</Button>\r\n                            </Dropdown.Item>\r\n                        )}\r\n                        no={() => <Dropdown.Item eventKey={routeName}>{routeName}</Dropdown.Item>}               \r\n                    />                            \r\n                )}\r\n                </AuthConsumer>\r\n            ) : (\r\n                <div></div>\r\n            )\r\n            }\r\n        </AuthConsumer>           \r\n    ) \r\n}\r\nclass RouteSelector extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.onRequestRoutes();\r\n    }\r\n\r\n    render() {\r\n        const { routes, isPending, activeRoute, error } = this.props\r\n        return (        \r\n            <DropdownButton title=\"Select Route\" onSelect={function(evt){console.log(evt)}}>         \r\n                <Dropdown.Item href=\"#/action-1\">Make New Route</Dropdown.Item>\r\n                {\r\n                    routes.map(route => renderRoute(route))\r\n                }  \r\n            </DropdownButton>\r\n        )}\r\n}\r\n\r\n    \r\nexport default connect(mapStateToProps, mapDispatchToProps)(RouteSelector)"]},"metadata":{},"sourceType":"module"}