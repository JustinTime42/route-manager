{"map":"{\"version\":3,\"sources\":[\"static/js/main.fc22e926.chunk.js\"],\"names\":[\"window\",\"push\",\"48\",\"module\",\"exports\",\"__webpack_require__\",\"73\",\"__webpack_exports__\",\"r\",\"react\",\"react_default\",\"n\",\"react_dom\",\"react_dom_default\",\"Boolean\",\"location\",\"hostname\",\"match\",\"components_Blackout\",\"a\",\"createElement\",\"style\",\"margin\",\"width\",\"backgroundColor\",\"position\",\"zIndex\",\"className\",\"id\",\"authContext\",\"Object\",\"authenticated\",\"user\",\"accessToken\",\"initiateLogin\",\"handleAuthentication\",\"logout\",\"AuthProvider\",\"Provider\",\"AuthConsumer\",\"Consumer\",\"components_Login\",\"_ref\",\"onClick\",\"Dropdown\",\"Button\",\"rbac_rules\",\"visitor\",\"static\",\"driver\",\"admin\",\"Can_Can\",\"props\",\"rules\",\"role\",\"action\",\"data\",\"permissions\",\"staticPermissions\",\"includes\",\"dynamicPermissions\",\"dynamic\",\"permissionCondition\",\"check\",\"perform\",\"yes\",\"no\",\"defaultProps\",\"components_Can\",\"components_RouteSelector\",\"editStyle\",\"float\",\"Toggle\",\"variant\",\"Menu\",\"Item\",\"href\",\"map\",\"route\",\"routeName\",\"_ref2\",\"size\",\"components_DriverName\",\"type\",\"name\",\"placeholder\",\"containers_Driver\",\"Home\",\"containers_Admin\",\"react_router_dom\",\"react_router\",\"components_Callback\",\"test\",\"hash\",\"to\",\"defineProperty\",\"classCallCheck\",\"createClass\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"inherits\",\"auth0_min_esm\",\"AUTH_CONFIG\",\"ownKeys\",\"object\",\"enumerableOnly\",\"keys\",\"getOwnPropertySymbols\",\"symbols\",\"filter\",\"sym\",\"getOwnPropertyDescriptor\",\"enumerable\",\"apply\",\"auth\",\"WebAuth\",\"domain\",\"clientID\",\"redirectUri\",\"audience\",\"concat\",\"responseType\",\"components_Auth\",\"_Component\",\"Auth\",\"_getPrototypeOf2\",\"_this\",\"this\",\"_len\",\"arguments\",\"length\",\"args\",\"Array\",\"_key\",\"call\",\"state\",\"authorize\",\"setState\",\"parseHash\",\"error\",\"authResult\",\"console\",\"log\",\"setSession\",\"idTokenPayload\",\"key\",\"value\",\"sub\",\"email\",\"authProviderValue\",\"target\",\"i\",\"source\",\"forEach\",\"getOwnPropertyDescriptors\",\"defineProperties\",\"_objectSpread\",\"children\",\"rootElement\",\"document\",\"getElementById\",\"render\",\"timeoutID\",\"setup\",\"addEventListener\",\"resetTimer\",\"setTimeout\",\"goInactive\",\"e\",\"clearTimeout\",\"goActive\",\"height\",\"exact\",\"path\",\"component\",\"navigator\",\"serviceWorker\",\"ready\",\"then\",\"registration\",\"unregister\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonpsnowline-route-manager\"]=window[\"webpackJsonpsnowline-route-manager\"]||[]).push([[0],{48:function(e,t,n){e.exports=n(73)},73:function(e,t,n){\"use strict\";n.r(t);n(49);var a=n(0),r=n.n(a),i=n(11),o=n.n(i);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=function(){return r.a.createElement(\"div\",{style:{margin:\"-1em\",width:\"110%\",backgroundColor:\"black\",position:\"absolute\",zIndex:99},className:\"blackOut\",id:\"blackOutScreen\"})},l=Object(a.createContext)({authenticated:!1,user:{},accessToken:\"\",initiateLogin:function(){},handleAuthentication:function(){},logout:function(){}}),u=l.Provider,s=l.Consumer,m=function(){return r.a.createElement(s,null,(function(e){var t=e.initiateLogin;return r.a.createElement(\"button\",{className:\"btn btn-sm btn-primary\",onClick:t},\"Login\")}))},d=n(15),h=n(20),f={visitor:{static:[\"home-page:visit\"]},driver:{static:[\"home-page:visit\",\"driver:visit\"]},admin:{static:[\"driver:visit\",\"admin:visit\",\"home-page:visit\"]}},v=function(e){return function(e,t,n,a){var r=e[t];if(!r)return!1;var i=r.static;if(i&&i.includes(n))return!0;var o=r.dynamic;if(o){var c=o[n];return!!c&&c(a)}return!1}(f,e.role,e.perform,e.data)?e.yes():e.no()};v.defaultProps={yes:function(){return null},no:function(){return null}};var p=v,E=function(){var e={float:\"right\"};return r.a.createElement(d.a,null,r.a.createElement(d.a.Toggle,{variant:\"success\",id:\"dropdown-basic\"},\"Select Route\"),r.a.createElement(d.a.Menu,null,r.a.createElement(d.a.Item,{href:\"#/action-1\"},\"Make New Route\"),[\"marybelle\",\"clementine\",\"bessy\"].map((function(t){return n=t,r.a.createElement(s,null,(function(t){return t.authenticated?r.a.createElement(s,null,(function(t){var a=t.user;return r.a.createElement(p,{role:a.role,perform:\"admin:visit\",yes:function(){return r.a.createElement(d.a.Item,{href:\"#/action-2\"},n,r.a.createElement(h.a,{size:\"sm\",variant:\"secondary\",style:e},\"Edit\"))},no:function(){return r.a.createElement(d.a.Item,{href:\"#/action-2\"},n)}})})):r.a.createElement(\"div\",null)}));var n}))))},b=function(){return r.a.createElement(\"form\",null,r.a.createElement(\"input\",{type:\"text\",name:\"driverName\",placeholder:\"Driver Name\"}))},g=function(){return r.a.createElement(\"div\",null,r.a.createElement(E,null),r.a.createElement(b,null))},w=function(){return r.a.createElement(s,null,(function(e){return e.authenticated?r.a.createElement(g,null):r.a.createElement(\"div\",null,r.a.createElement(\"h2\",null,\"Snowline Alaska.\"),r.a.createElement(m,null))}))},y=function(){return r.a.createElement(\"div\",null,\"Admin page\")},k=n(28),O=n(14),j=function(e){return r.a.createElement(s,null,(function(t){var n=t.handleAuthentication;return/access_token|id_token|error/.test(e.location.hash)&&n(),r.a.createElement(O.a,{to:\"/\"})}))},P=n(41),S=n(42),A=n(43),T=n(46),I=n(44),L=n(47),x=n(45),D=\"justintime42.auth0.com\",N=\"https://rbac-tutorial-app/role\",B=\"4a5CpQ0kBBRvRIExud9aiDsxJQNiWsOe\",C=\"http://localhost:3000/callback\";function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var W=new x.a.WebAuth({domain:D,clientID:B,redirectUri:C,audience:\"https://\".concat(D,\"/userinfo\"),responseType:\"token id_token\"}),z=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(T.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={authenticated:!1,user:{role:\"visitor\"},accessToken:\"\"},n.initiateLogin=function(){W.authorize()},n.logout=function(){n.setState({authenticated:!1,user:{role:\"visitor\"},accessToken:\"\"})},n.handleAuthentication=function(){W.parseHash((function(e,t){if(e)return console.log(e),void console.log(\"Error \".concat(e.error,\" occured\"));n.setSession(t.idTokenPayload)}))},n}return Object(L.a)(t,e),Object(A.a)(t,[{key:\"setSession\",value:function(e){var t={id:e.sub,email:e.email,role:e[N]};this.setState({authenticated:!0,accessToken:e.accessToken,user:t})}},{key:\"render\",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(P.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state,{initiateLogin:this.initiateLogin,handleAuthentication:this.handleAuthentication,logout:this.logout});return r.a.createElement(u,{value:e},this.props.children)}}]),t}(a.Component);var J=document.getElementById(\"root\");o.a.render(r.a.createElement((function(){var e;function t(){window.addEventListener(\"mousemove\",n),window.addEventListener(\"touchmove\",n,!1),e=window.setTimeout(a,5e3)}function n(n){window.clearTimeout(e),t()}function a(){window.addEventListener(\"mousemove\",i),document.getElementById(\"blackOutScreen\").style.height=\"100%\"}function i(){document.getElementById(\"blackOutScreen\").style.height=\"0%\"}return t(),r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(z,null,r.a.createElement(c,null),r.a.createElement(k.a,null,r.a.createElement(O.d,null,r.a.createElement(O.b,{exact:!0,path:\"/\",component:w}),r.a.createElement(O.b,{path:\"/admin\",component:y}),r.a.createElement(O.b,{path:\"/callback\",component:j})))))}),null),J),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);","extractedComments":[]}